<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=us-ascii">
<title>Broadcom 97260 A0 Phase 17.2 Set-Top Unified Reference Software
Release (URSR) Release Notes</title>
</head>

<body lang=EN-US link=blue vlink=purple>

<div class=WordSection1>

<h1 style='margin-left:15.0pt'><span style='font-size:12.0pt'>Index</span></h1>

<p style='margin-left:15.0pt'><span style='color:#0070C0'><a href="#features"><span
style='color:#0070C0'>Features</span></a></span></p>

<p style='margin-left:15.0pt'><span style='color:#0070C0'><a
href="#where_to_start"><span style='color:#0070C0'>Where to Start</span></a></span></p>

<p style='margin-left:15.0pt'><span style='color:#0070C0'><a href="#known_bugs"><span
style='color:#0070C0'>Known Issues</span></a> </span></p>

<div>

<p><a name=top><strong>Broadcom 97260 A0 Phase 17.2 </strong></a><strong>Unified Set-Top
Reference Software Release Notes</strong></p>

<p><strong>Release Date: </strong></p>

<blockquote style='margin-top:5.0pt;margin-right:0in;margin-bottom:5.0pt'>

<p>June 28, 2017</p>
<p>Phase 17.2 Release </p>

</blockquote>

<p><strong>Platforms Supported: </strong></p>
<ul style='margin-top:0in' type=disc>
<li>972603/4SV - BCM72603/4 A0</li>
<li>97260SV - BCM7260 A0</li>
<li>972603/4SFF_HB - BCM72603/4 A0</li>
<li>972603/4USFF - BCM72603/4 A0</li>
<li>97260USFF - BCM7260 A0</li>
<li>972603/4DV - BCM72603/4 A0</li>
</ul>

<p>&nbsp;</p>

<p >Please also be aware that 7260 supports a 64 bit ARM CPU. The supplied kernel comes in 32bit and 64
bit flavors. The BOLT bootloader is common to 32 and 64-bit, and can boot both of the kernels.
Please refer to &#8220;Reference software 64 bit Migration Application Note&#8221; for more
details.</p>
<p >&nbsp;</p>

<p><a name="where_to_start"><strong>Where To Start</strong></a><br>
<a href="#top"><b><span style='color:windowtext'>(Top)</span></b></a></p>

<p >Read BroadcomReferencePlatformSetup.pdf for an overview.<br>
Read Atlas_User_Guide.pdf for information on configuring the Linux environment
on your Build Server and Set-Top, and information on building and installing
Atlas as part of the Reference Software. </p>

<p >&nbsp;</p>
<p><strong>Quick Build Instructions</strong></p>

<ul style='margin-top:0in' type=disc>
 <li ># tar -xvjf rootfs-4.1-1.10.tar.bz2 </li>
 <li ># tar -xvjf stblinux-4.1-1.10.tar.bz2 </li>
 <li ># cd rootfs </li>
 <li ># make vmlinuz-initrd-arm <i>(For 32-bit version of
     the kernel build)</i></li>
 <li ># make vmlinuz-initrd-arm64 <i>(For 64-bit version of the
     kernel build)</i></li>
 <li ># cd ../linux </li>
 <li >export LINUX=`pwd` </li>
 <li >tar -C /opt/toolchains -xvjf stbgcc-4.8-1.6.tar.bz2 </li>
 <li >PATH=/opt/toolchains/ stbgcc-4.8-1.6/bin:$PATH </li>
 <li >export B_REFSW_ARCH=arm-linux </li>
 <li >or export B_REFSW_ARCH=aarch64-linux (For compiling the code with 64 bit toolchain)</li>
</ul>

<p >&nbsp;</p>

<p><strong>Quick Boot instructions</strong></p>

<ul style='margin-top:0in' type=disc>
 <li >BOLT&gt; boot &lt;network_location&gt;:41-1.5/vmlinuz-initrd-arm
     </li>
 <li >BOLT&gt; boot &lt;network_location&gt;:41-1.5/vmlinuz-initrd-arm64&nbsp; - This command
     will boot 64 bit kernel instead of 32 bit kernel. </li>
</ul>

<p  style='margin-left:.5in'>&nbsp;</p>

<p ><strong>Set the kernel to autoboot</strong> </p>
<ul style='margin-top:0in' type=disc>
 <li >BOLT&gt; flash &lt;network_location&gt;:41-1.5/vmlinuz-initrd-arm flash0.kernel </li>
 <li >Or BOLT&gt; flash &lt;network_location&gt;:41-1.5/vmlinuz-initrd-arm64 flash0.kernel - For 64-bit kernel</li>
 <li >BOLT&gt; setenv -p STARTUP &quot;boot flash0.kernel:&quot; </li>
 <li >BOLT&gt; reboot</li>
</ul>

<p >&nbsp;</p>

<p ><b>How to set a board to autoboot with kernel and ubifs
rootfs and binaries into the flash:</b></p>

<ul style='margin-top:0in' type=disc>
 <li>Boot with vmlinuz-initrd kernel. </li>
 <li>Run &quot;stbutil&quot; </li>
 <li>Select option 1 for flashing the noninitrd kernel to the flash. Again run &quot;stbutil&quot; and select 2 to flash rootfs into the flash.</li>
 <li>Reboot the board with &quot;boot flash0.kernel 'ubi.mtd=flash1.rootfs0 rootfstype=ubifs root=ubi0:rootfs rw'&quot;</li>
 <li>In case you want to run any application on the startup then, copy the application binaries in /data/bin of the flash. Copy the streams in /data/media. Create
     /root/rc.user and put the commands you want to run after the boot. Save the file.</li>
 <li>Set the STARTUP variable to &quot;boot flash0.kernel 'ubi.mtd=flash1.rootfs0 rootfstype=ubifs root=ubi0:rootfs rw'&quot;</li>
 <li>Reboot the board.</li>
</ul>

<p><strong>Following is the list of boards that are supported and the
options required to build the software. </strong></p>

<table Table border=1 cellspacing=1 cellpadding=2>
 <tr>
  <th>
  <p ><b>Board</b></p>
  </th>
  <th>
  <p ><b>export NEXUS_PLATFORM</b></p>
  </th>
  <th>
  <p ><b>export BCHP_VER</b></p>
  </th>
  <th>
  <p ><b>Additional build option, BOLT, Kernel information</b></p>
  </th>
 </tr>
  <tr>
  <td >
  <p >97260 972603/4 SV/HB/USFF/DV</p>
  </td>
  <td >
  <p >97260</p>
  </td>
  <td >
  <p ><b>A0</b></p>
  </td>
  <td >
  <p >&nbsp;See &#8220;Quick Build Instructions&#8221; on how to
  setup LINUX and B_REFSW_ARCH variables</p>
  </td>
 </tr>
</table>

<p>
  <strong>
    There are multiple box modes available which contain the RTS to support the different variants and features of this chip.<br>
    Information on the available box modes has been moved to a <span style='color:#0070C0'><a href="7260A0_box_mode_comparison.html"><span style='color:#0070C0'>new HTML table</a></span>.</p>
  </strong>
</p>

<p ><strong>Instructions to build nexus playback utility and use
it to decode and display HEVC 4Kx2k@60p 10bit stream </strong></p>

<ul style='margin-top:0in' type=disc>
 <li ># tar xvfz refsw_release_97260_20170628.src.tgz </li>
 <li >#cd nexus/utils </li>
 <li >#make install </li>
</ul>

<ul style='margin-top:0in' type=disc>
 <li >Connect UHD 4K TV to HDMI </li>
 <li >#export B_REFSW_BOXMODE=4</li>
 <li >#nexus playback -display_format 3840x2160p60 -component
     off -max_video 3840,2160 -probe &lt;stream_name &gt;</li>
</ul>

<p ><b>Instructions to build atlas and use it to play HEVC 4Kx2k
stream </b></p>

<ul style='margin-top:0in' type=disc>
 <li ># tar xvfz refsw_release_97260_20170628.src.tgz</li>
 <li >#cd BSEAV/app/atlas/build </li>
 <li >#make install </li>
</ul>

<ul style='margin-top:0in' type=disc>
 <li >Connect UHD 4K TV to HDMI</li>
 <li >Mount the USB/SATA containing the 4kX2k stream as
     /data/videos </li>
</ul>

<ul style='margin-top:0in' type=disc>
 <li >Run the following commands to run atlas after extracting
     the tarball from obj.97260/BSEAV/bin dir.</li>
 <li >#export B_REFSW_BOXMODE=4 </li>
 <li >#start install </li>
 <li >#start atlas </li>
 <li >From the menu, select Playback -&gt; 4kp60 stream. </li>
 <li >Using the remote control for the board, select Menu -&gt;
     Display -&gt; Format -&gt; 2160p 60Hz. You should be able to see the
     stream playback in 4Kp60 display format.</li>
</ul>

<p><a name="known_bugs"><strong>Known </strong></a><span class=GramE><span
style='mso-bookmark:known_bugs'><strong>issues</strong></span></span><span
style='mso-bookmark:known_bugs'></span><br>
<a href="#top"><span style='color:windowtext'>(Top)</span></a> </p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='mso-cellspacing:0in;mso-yfti-tbllook:1184;mso-padding-alt:0in 0in 0in 0in'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td style='background:#99CCCC;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal align=left style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
  auto;text-align:center'><b>Description</b></p>
  </td>
  <u1:p></u1:p>
  <td style='background:#99CCCC;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal align=left style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
  auto;text-align:center'><b>Jira Ticket </b></p>
  </td>
  <u1:p></u1:p>
  <td style='background:#99CCCC;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal align=left style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
  auto;text-align:center'><b>Area of concern</b></p>
  </td>
 </tr>
 <u1:p></u1:p>
 <tr style='mso-yfti-irow:1'>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal align=left style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
  auto;text-align:center'>&nbsp;</p>
  </td>
  <u1:p></u1:p>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal align=left style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
  auto;text-align:center'><span style='background:whitesmoke'>&nbsp</span></p>
  </td>
  <u1:p></u1:p>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal align=left style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
  auto;text-align:center'>&nbsp</p>
  </td>
 </tr>
</table>

<p><strong><a name="features">Features in this Release</a></strong><br/><a href="#top">(Top)</a></p><p>All features listed in <span style="color:green">green</span> are new to this release.</p><p>Platforms Supported</p><ul><li>Board Support: 97260SV</li><li>Chip Rev Support: A0</li><li>Kernel Version: 4.1-1.10</li><li>Toolchain: stbgcc-4.8-1.6</li></ul><h4></h4><p>High Dynamic Range (HDR)</p><ul><li>HDR10/HLG/SDR (Pass-through and Conversion)</li></ul><p>Video Decoder</p><ul><li>AVS1-P2 - (Jizhun Profile @ L6.0)</li><li>Dual HD</li><li>H.264 - (AVC Constrained BP, AVC {MP, HP} @L4.1, AVC {MP, HP} @L4.2, MVC {MP, HP}@L4.1)</li><li>HD + SD</li><li>HEVC - ({MP} @L5.1 4kx2k/24p, {MP} @L5.1 4kx2k/30p, <span style="color:green">HDR10 --> SDR conversion</span>, <span style="color:green">HLG --> HDR10 conversion</span>)</li><li>HW Still Image Decode - (GIF, JPEG, MJPEG, PNG)</li><li>IP high jitter &amp; trick mode support</li><li>Media File Format Support - (3GP, ASF, AVI, DiVX, DVD vob, Flash Video, MKV, MP4, OGG (Vorbis audio only), RealMedia (rm/rmvb/ra/rv), WebM (VP8 video and Vorbis audio))</li><li>Mosaic</li><li>MPEG-2 - (MP@{LL, ML, HL})</li><li>Single MPEG2 I-frame Decode</li><li>Still Picture decoding (Live HD video, MPEG2 and AVC, with SD still)</li><li>SW Still image decode (BMP, TIFF, JPEG)</li><li>VP8</li><li>VP9</li></ul><p>Audio Decoder</p><ul><li>AAC - (HE 5.1, HE Stereo, LC 5.1, LC Stereo, V1, V2)</li><li>AC3 - (5.1, Stereo)</li><li>Dolby - (DD, DDP to DD convert, DDPlus 5.1, DDPlus 7.1, DDPlus stereo, Dolby Pulse)</li><li>Dolby MS10</li><li>Dolby MS11</li><li>Dolby MS11 + 2nd Audio Decode Mixing - (Vorbis Audio)</li><li>Dolby MS12 - (AC4 (A specific Box mode is required), Config A (A specific Box mode is required), Config B, Config C, Expanded DAPv2 Volume Limiter Controls)</li><li>DRA</li><li>DTS-HD</li><li>DTS-MA - (Passthrough)</li><li>DVD-LPCM</li><li>FLAC</li><li>Monkey's Audio</li><li>MP3 - (Stereo)</li><li>MPEG - (MPEG-2, MPEG-4, MPEG-I LI/LII/LIII)</li><li>MPEG Audio Descriptor</li><li>MPEG Multi Channel</li><li>MS11 + PCM Mixing</li><li>Ogg Vorbis</li><li>Real Audio - (10, 9)</li><li>SRS - (TruVolume)</li><li>Windows Media - (WMA (w/LSF, QSF), WMA Pro)</li></ul><p>Security</p><ul><li>Common DRM Framework - (Adobe Access 5.0 with enhanced robustness, DTCP-IP)</li><li>MCARD/Cable Card support</li><li>SAGE - (SAGE Adobe Access 5.0 with enhanced robustness)</li><li>Smartcard</li><li>SVP - (v2.6)</li></ul><p>Audio Post Process</p><ul><li>ATSC A/85 volume leveling</li><li>Audio Decoder Fade effect</li><li>Broadcom - (3D surround, AVL)</li><li>Dolby - (DDRE, DV-258)</li><li>Equalizer - (5-band Graphic EQ, 7-band PEQ, Sub sonic filtering, Sub woofer channel extraction, Tone Balancing)</li><li>Independent SPDIF delay</li><li>Karaoke support - (Karaoke Decode processing, Karaoke Vocal processing)</li><li>PCM Mixing</li><li>Ramping Mute</li><li>SRC</li><li>SRS - (SRS-HD4, SRS-TruVolume)</li></ul><p>System</p><ul><li>Graphics - (2D GFX, 3D GFX (openGL, OpenVG))</li><li>Kernel Mode</li><li>LE</li><li>Nexus Multi Process Support</li><li>User Mode</li></ul><p>A/V Display</p><ul><li>All NTSC/ATSC/PAL resolutions</li><li>Audio  - HDMI output - (Compressed on HDMI, PCM on HDMI)</li><li>Audio - DAC output</li><li>Audio - I2S - (Input, Output)</li><li>Audio Input - (HDMI (Compressed), HDMI (Multi-channel PCM), HDMI (Stereo PCM), I2S)</li><li>Audio Output - (DAC, I2S (Stereo PCM), SPDIF (Compressed), SPDIF (Stereo PCM))</li><li>DSOLA</li><li>HDCP support - (HDCP 1.4 for HDMI Repeater, HDCP 1.4 for HDMI Rx, HDCP 1.4 for HDMI Tx, HDCP 2.2 for HDMI Repeater/Rx, HDCP 2.2 for HDMI Tx)</li><li>HDMI support - (HDMI 2.0a for HDMI Tx)</li><li>PIP: Simultaneous HD+SD display</li><li>Stream Pan / Scan</li><li>TSM - (+/-20mSec)</li><li>Video - 1080p display - (24p, 25p, 30p, 50p, 60p)</li><li>Video - 4kx2k display</li><li>Video - Component output</li><li>Video - CVBS and S Video Output</li><li>Video - HDMI output
- (2.0)</li></ul><p>PVR</p><ul><li>PVR encryption - (3DES, AES, DES)</li><li>PVR TSM</li><li>Record - (AVC, MPEG2, MPEG4, MVC)</li><li>STC rate based trickmode</li><li>Timeshift - (AVC, MPEG2, MPEG4, MVC)</li><li>Trick mode - (AVC, Decoder trickmode, DSOLA with audio, Host trickmode, Host trickmode w/o index on MPEG-2, MPEG2, MPEG4, MVC, playback, Slow motion, <span style="color:green">Smooth 1x rewind using MDQT</span>)</li></ul><p>IPTV</p><ul><li>BIP API - (Dynamic clock recovery reconfiguration, IGMP Linstener, RTSP server, Streamer)</li></ul><p>Networking</p><ul><li>Ethernet MAC - (10/100 Eth MAC, 1000 Eth MAC)</li></ul><p>Miscellaneous</p><ul><li>Common Download via TR69</li><li>NxClient Multiprocess library - (AC3+ down-convert, API to control audio output configuration, API to control slave display settings and sample aspect ratio, Audio Primer for fast main/PIP audio swap, Auto Volume Level, Callback for display changes, Display VBI functions, Explicit PIP window support, HDMI input encoding supporting (included rework of nxclient hdmi input api), Macrovision, Main/PIP video swap, MS12, NRT (non-real-time) transcode, nxserver external app mode, Per-output audio volume control, Picture quality adjustments, PIP mosaic, Video-as-graphics, <span style="color:green">32/64 mixed mode</span>, <span style="color:green">HDCP Revocation list</span>)</li><li>RCU - (IR)</li><li>Video image input interface</li><li>Virtual L2 interrupt</li></ul><p>Transport</p><ul><li>Message Filtering</li><li>MTSIF</li><li>PID Filtering</li><li>Remux</li><li>TSMF</li></ul><p>Power Management</p><ul><li>Adaptive Voltage Scaling</li><li>Dynamic Power Management</li><li>S1: Active Standby</li><li>S2: Low Latency Standby</li><li>S3: Deep Standby - (cold boot mode, Initial warm boot suppport in Bolt and Kernel)</li></ul><p>Picture Quality</p><ul><li>CAB (Color Alteration Block)</li><li>DNR (Digital Noise Reduction in 65nm) - (BNR (Block Noise Reduction), DCR (Digital Countour Reduction), MNR (Mosquito Noise Reduction))</li><li>GNR (Gaussian Noise Reduction) - (AND (Analog Noise Detection), MCTF (Motion-Compensated Temporal Filter))</li><li>LAB &amp; HIST (Luma Alteration Block &amp; Luma Histogram)</li><li>MAD-R (Motion Adaptive Deinterlacer Re-architected)</li><li>TN2T-H (Sharpening)</li></ul><p>3D Video Display</p><ul><li>3D packing format - (1920x1080i@50Hz, 1920x1080i@59.94/60Hz, 1920x1080p@24Hz)</li></ul><p>Linux</p><ul><li>CMA</li><li>Ethernet link and Ethernet GPhy</li><li>Ethernet Switch</li><li>File system - (UBIFS)</li><li>Flash - (NAND, NOR, SPI)</li><li>MoCA - (V2.0)</li><li>PCIe</li><li>SATA - (Sata2, Sata3)</li><li>UART port</li><li>USB</li></ul><p>Cable FE</p><ul><li>BCM3128 tuner support - (Full band capture with TR69/135)</li><li>CableCARD stack - (Basic, Basic+DSG, Basic+DSG+OOB)</li><li>DOCSIS Frontend</li><li>DOCSIS3.0 - (Annex-A (Europe), Annex-B (North America), Annex-C (Japan))</li><li>DSG Client Controller, DSG Clients</li><li>QAM Tuning</li></ul><p>VBI</p><ul><li>Copy Protection - (CGMS-A, DCS)</li><li>Data Re-encoding and Rendering - (AMOL I/II, ANSI/SCTE 20/21, CEA-608 (Analog Closed Captioning for RF, composite, S-video and 480i component signals), CEA-708 (Digital Closed Captioning), CEA-805 (for 480p, 720p and 1080i component signals), ETSI EN 300 743, Gemstar, NABTS (Teletext), Nielsen, TVGuide, WSS/VPS (ETS 300 294))</li></ul><br><h4><p><strong><a name="features_future">Features Planned for the Next Release</a></strong><br/><a href="#top">(Top)</a></p></h4>


</div>

</div>

</body>

</html>
